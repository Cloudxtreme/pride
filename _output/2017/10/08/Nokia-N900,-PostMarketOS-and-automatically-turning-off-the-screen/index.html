<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/cjc.css" />
        <title>cjc.im</title>
    </head>
    <body>
    <div id="main">
        <h2><a href="/">cjc.im</a>
 / <a href="/posts">posts</a> / Nokia N900, PostMarketOS and automatically turning off the screen</h2>
<p>The Nokia N900[1] has to be my favorite handheld device of all time, even more so than the Nintendo Gameboy ;)</p>
<p>I recently discovered PostmarketOS[2], based on Alpine Linux[3] that intends to be a replacement phone OS with a 10 year lifespan. This also led me to discover that the N900 has mostly mainline Linux Kernel Support.</p>
<p>The one thing I wanted to happen was that the screen powers off when the keyboard slides closed. Which is done by editing <code>/etc/acpi/handler.sh</code> as such:</p>
<pre><code>KP_SLIDE_OPEN)
    adjust_keypad_bl 255    
    echo 0 &gt; /sys/devices/platform/omapdrm.0/graphics/fb0/blank
    ;;
KP_SLIDE_CLOSE)
    adjust_keypad_bl 0
    echo 1 &gt; /sys/devices/platform/omapdrm.0/graphics/fb0/blank</code></pre>
<p>This looks like it would also be the place to do things with the other hardware buttons on the device. More to come on this device!</p>
<p>[1] <a href="https://en.wikipedia.org/wiki/Nokia_N900" class="uri">https://en.wikipedia.org/wiki/Nokia_N900</a> [2] <a href="https://www.postmarketos.org/" class="uri">https://www.postmarketos.org/</a> [3] <a href="https://alpinelinux.org/" class="uri">https://alpinelinux.org/</a></p>
<strong>Tags: </strong>
<i><a href="/tag/development">development</a></i>
<i><a href="/tag/infosec">infosec</a></i>
        <br />
        </div>
        </div>
    </body>
</html>
